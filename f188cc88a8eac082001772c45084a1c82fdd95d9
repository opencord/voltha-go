{
  "comments": [
    {
      "key": {
        "uuid": "5b0a20cd_537204ba",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 38
      },
      "lineNbr": 324,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-03-01T17:07:27Z",
      "side": 1,
      "message": "nit:  since the device updates are logged anyway, the function name would be simpler if named waitForAdapterResponse().",
      "revId": "f188cc88a8eac082001772c45084a1c82fdd95d9",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "319a0199_6a34f3d0",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 38
      },
      "lineNbr": 324,
      "author": {
        "id": 1000729
      },
      "writtenOn": "2021-03-07T13:17:54Z",
      "side": 1,
      "message": "Actually there are many of the operation for which original function waitForAdapterResponse is called , these are operation which are not considered to be logged as a device update like packetOut , simulateAlarm and more.",
      "parentUuid": "5b0a20cd_537204ba",
      "revId": "f188cc88a8eac082001772c45084a1c82fdd95d9",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9e07db1_dfcc9f7b",
        "filename": "rw_core/core/device/agent_device_update.go",
        "patchSetId": 38
      },
      "lineNbr": 43,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-03-01T17:07:27Z",
      "side": 1,
      "message": "Two points:\n1) Could there be a case where prevState \u003d\u003d nil but new state needs to be logged?  If prevState is being used to determined to log or not state data then the (prevState !\u003d nil) check must be done before getting an instance of the new state.\n\n2) Trying to get the latest device state here may not really correspond to the device update log, i.e. by the time the logDeviceUpdate has been invoked the device state may be different from the transition initiated by this log update.   Would it be possible to pass the actual state transition, if any, to the logDeviceUpdate() method?",
      "revId": "f188cc88a8eac082001772c45084a1c82fdd95d9",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e723277_a7d9e0ec",
        "filename": "rw_core/core/device/agent_device_update.go",
        "patchSetId": 38
      },
      "lineNbr": 43,
      "author": {
        "id": 1000729
      },
      "writtenOn": "2021-03-07T13:17:54Z",
      "side": 1,
      "message": "1) As per my knowledge where prev state \u003d  nil and new state need to be logged , somewhat relevant case is device creation but in that case prev state is set to be unknown.\n2) current state is passed in new patch set. Prev state and current state are passed from only those function which are actually changing state.",
      "parentUuid": "d9e07db1_dfcc9f7b",
      "revId": "f188cc88a8eac082001772c45084a1c82fdd95d9",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3ee0f8b_366dd161",
        "filename": "rw_core/core/device/agent_port.go",
        "patchSetId": 38
      },
      "lineNbr": 189,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2021-03-01T15:19:27Z",
      "side": 1,
      "message": "given that desc and operStatus are local variables. Shouldn\u0027t this block be replaced with just\n\nreturn portHandle.Update(ctx, \u0026newPort)\n\n?\n\nIt seems that desc and operStatus are set, but never used",
      "range": {
        "startLine": 183,
        "startChar": 0,
        "endLine": 189,
        "endChar": 11
      },
      "revId": "f188cc88a8eac082001772c45084a1c82fdd95d9",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "993951d5_82430a27",
        "filename": "rw_core/core/device/agent_port.go",
        "patchSetId": 38
      },
      "lineNbr": 189,
      "author": {
        "id": 1000729
      },
      "writtenOn": "2021-03-01T15:24:21Z",
      "side": 1,
      "message": "No actually both of these variables are part of the arguments passed in a function call which is deferred in the start of the function.",
      "parentUuid": "b3ee0f8b_366dd161",
      "range": {
        "startLine": 183,
        "startChar": 0,
        "endLine": 189,
        "endChar": 11
      },
      "revId": "f188cc88a8eac082001772c45084a1c82fdd95d9",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28c0b3dd_17381241",
        "filename": "rw_core/core/device/agent_port.go",
        "patchSetId": 38
      },
      "lineNbr": 189,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2021-03-01T15:53:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "993951d5_82430a27",
      "range": {
        "startLine": 183,
        "startChar": 0,
        "endLine": 189,
        "endChar": 11
      },
      "revId": "f188cc88a8eac082001772c45084a1c82fdd95d9",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    }
  ]
}