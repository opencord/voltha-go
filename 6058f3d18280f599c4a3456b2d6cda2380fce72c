{
  "comments": [
    {
      "key": {
        "uuid": "d58db4ee_ef61315e",
        "filename": "rw_core/core/device_manager.go",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-09-06T20:29:59Z",
      "side": 1,
      "message": "Nice. But since the deviceLoadingInProgress map for the device is already protected by the device loading lock, this should be a simple map instead of a sync map which isn\u0027t required for this use-case.",
      "revId": "6058f3d18280f599c4a3456b2d6cda2380fce72c",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b35a7da9_48fbc362",
        "filename": "rw_core/core/device_manager.go",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-09-06T20:33:32Z",
      "side": 1,
      "message": "A simple map won\u0027t be totally protected when there are multiple device loading (not the same Id) in which case the map needs to be protected.",
      "parentUuid": "d58db4ee_ef61315e",
      "revId": "6058f3d18280f599c4a3456b2d6cda2380fce72c",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21737148_b0e56151",
        "filename": "rw_core/core/device_manager.go",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-09-06T20:38:26Z",
      "side": 1,
      "message": "The deviceLoadingLock is at the device manager level. Where is the issue of race w.r.t check/store of deviceLoadingInProgress map when under the device manager loading lock.",
      "parentUuid": "b35a7da9_48fbc362",
      "revId": "6058f3d18280f599c4a3456b2d6cda2380fce72c",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "27b37009_b0f87c2d",
        "filename": "rw_core/core/device_manager.go",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-09-06T20:39:59Z",
      "side": 1,
      "message": "Correct.  Does not hurt additional protection.",
      "parentUuid": "21737148_b0e56151",
      "revId": "6058f3d18280f599c4a3456b2d6cda2380fce72c",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9893bc21_be49ec2b",
        "filename": "rw_core/core/device_manager.go",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-09-06T20:41:45Z",
      "side": 1,
      "message": ":) \nParanoia. Not needed man. Sync map would just add to the cost as its already protected on the outside for concurrent access. \nSimple map would be faster for this use-case.",
      "parentUuid": "27b37009_b0f87c2d",
      "revId": "6058f3d18280f599c4a3456b2d6cda2380fce72c",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    }
  ]
}