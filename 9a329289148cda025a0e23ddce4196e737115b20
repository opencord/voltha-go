{
  "comments": [
    {
      "key": {
        "uuid": "e6706753_79013566",
        "filename": "rw_core/core/device/logical_agent.go",
        "patchSetId": 2
      },
      "lineNbr": 2003,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-05-08T14:12:49Z",
      "side": 1,
      "message": "This can be a slow operation under load.  During that time no request can be processed on the logical device.\n\nCan the port be created and added to the logical device with basic portCap fields (with port down status) before sending the request to the adapter?   This way the lock can be released after the ports are added.   \n\nA better approach would be to change the portcreate API between the core/adapter such that the port capability is included in that message.  This way we are guaranteed every time we have a logical port on a logical device we have all the basic data.  The added benefit is that we will have one less \"locked\" round-trip between the Core and adapter.",
      "revId": "9a329289148cda025a0e23ddce4196e737115b20",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b7b3281_bb624c56",
        "filename": "rw_core/core/device/logical_agent.go",
        "patchSetId": 2
      },
      "lineNbr": 2003,
      "author": {
        "id": 1000218
      },
      "writtenOn": "2020-05-09T20:23:25Z",
      "side": 1,
      "message": "Totally agree. I wasn\u0027t happy when I was putting this message into the lock block.  Changing portCreate can be a good way of doing that. I suggest to merge this patch and open another task to study this problem.",
      "parentUuid": "e6706753_79013566",
      "revId": "9a329289148cda025a0e23ddce4196e737115b20",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e69ba15a_6c9803b0",
        "filename": "rw_core/core/device/logical_agent.go",
        "patchSetId": 2
      },
      "lineNbr": 2003,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-05-11T14:39:49Z",
      "side": 1,
      "message": "If we merge this patch then we will have a different performance issue.  For now, maybe it would be better to create a partial logical port port  before making the request to the adapter.",
      "parentUuid": "3b7b3281_bb624c56",
      "revId": "9a329289148cda025a0e23ddce4196e737115b20",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    }
  ]
}