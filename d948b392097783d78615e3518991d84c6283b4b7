{
  "comments": [
    {
      "key": {
        "uuid": "2ce5deca_59c0776d",
        "filename": "rw_core/core/device/logical_agent_port.go",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1000218
      },
      "writtenOn": "2020-05-25T22:19:01Z",
      "side": 1,
      "message": "Is that portNo?",
      "range": {
        "startLine": 134,
        "startChar": 43,
        "endLine": 134,
        "endChar": 46
      },
      "revId": "d948b392097783d78615e3518991d84c6283b4b7",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bcb617c_0f9fa5f9",
        "filename": "rw_core/core/device/logical_agent_port.go",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 1000218
      },
      "writtenOn": "2020-05-25T22:19:01Z",
      "side": 1,
      "message": "Why just don\u0027t update oldPort.Config and State? Do we really need this new variables and assignments?",
      "range": {
        "startLine": 171,
        "startChar": 0,
        "endLine": 173,
        "endChar": 30
      },
      "revId": "d948b392097783d78615e3518991d84c6283b4b7",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33e33ebf_50124745",
        "filename": "rw_core/core/device/logical_agent_port.go",
        "patchSetId": 1
      },
      "lineNbr": 298,
      "author": {
        "id": 1000218
      },
      "writtenOn": "2020-05-25T22:19:01Z",
      "side": 1,
      "message": "same as above.",
      "range": {
        "startLine": 296,
        "startChar": 0,
        "endLine": 298,
        "endChar": 30
      },
      "revId": "d948b392097783d78615e3518991d84c6283b4b7",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9afcf5df_d88f6f00",
        "filename": "rw_core/core/device/logical_agent_port.go",
        "patchSetId": 1
      },
      "lineNbr": 359,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-05-25T17:19:10Z",
      "side": 1,
      "message": "An adapter sends a \"portCreated\" event followed by a \"portStateUpdate\".   Currently,  this is an issue where the \"portStateUpdate\" gets ignored if the \"getPortCapability()\" request does not complete before receiving the \"portStateUpdate\" as the port was not created at that time.   Mahir has a change pending where the logical agent will be locked until the \"getPortCapability()\" returns hence forcing the agent the update to happen after the create is completed.   That\u0027s an issue as the lock can be long.  This code will still have the original issue.\n\nSince you are using a lock per port then can the port handle be first created (without updating the dB), grab the lock, initiate the \"getPortCapability()\", then create the port in the dB?  This way, when a port state update is received it will be blocked on the port lock until it gets released.  This way the two operations will be processed.\n\nSame comment for NNI port below.",
      "revId": "d948b392097783d78615e3518991d84c6283b4b7",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7fa12539_cf1f5f78",
        "filename": "rw_core/core/device/logical_agent_port.go",
        "patchSetId": 1
      },
      "lineNbr": 359,
      "author": {
        "id": 1000107
      },
      "writtenOn": "2020-05-25T17:28:39Z",
      "side": 1,
      "message": "Sure, I\u0027ll keep this in mind when I come back to this.\n\nActually meant to uploaded this change as a draft, it\u0027s still very much WIP.",
      "parentUuid": "9afcf5df_d88f6f00",
      "revId": "d948b392097783d78615e3518991d84c6283b4b7",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e750199d_e96c2308",
        "filename": "rw_core/core/device/logical_agent_port.go",
        "patchSetId": 1
      },
      "lineNbr": 359,
      "author": {
        "id": 1000218
      },
      "writtenOn": "2020-05-25T22:19:01Z",
      "side": 1,
      "message": "If Kent revisits and changes here, then no need to have my change anymore.",
      "parentUuid": "7fa12539_cf1f5f78",
      "revId": "d948b392097783d78615e3518991d84c6283b4b7",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d799c1a3_36e796d1",
        "filename": "rw_core/core/device/logical_agent_port.go",
        "patchSetId": 1
      },
      "lineNbr": 496,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-05-25T17:19:10Z",
      "side": 1,
      "message": "Missing code?",
      "revId": "d948b392097783d78615e3518991d84c6283b4b7",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "744bf605_be1428ce",
        "filename": "rw_core/core/device/logical_agent_port.go",
        "patchSetId": 1
      },
      "lineNbr": 496,
      "author": {
        "id": 1000107
      },
      "writtenOn": "2020-05-25T17:28:39Z",
      "side": 1,
      "message": "This change is still very much WIP, and does not compile currently.  \n\nI thought uploading as draft would hide the patch, but apparently not.",
      "parentUuid": "d799c1a3_36e796d1",
      "revId": "d948b392097783d78615e3518991d84c6283b4b7",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    }
  ]
}