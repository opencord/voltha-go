{
  "comments": [
    {
      "key": {
        "uuid": "5e9abe79_13a163d0",
        "filename": "rw_core/core/api/grpc_nbi_handler_test.go",
        "patchSetId": 5
      },
      "lineNbr": 1265,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "You can set this number to 1 when running with more ONUs (numONUPerOLT under adapter_olt.go under mocks).  At least run it with 100 ONUs.  In these scenarios you may need to comment out some tests (and possibly increase the timeouts) to ensure no impact of the delete.",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "929005d1_10e2efe0",
        "filename": "rw_core/core/api/grpc_nbi_handler_test.go",
        "patchSetId": 5
      },
      "lineNbr": 1265,
      "author": {
        "id": 1000726
      },
      "writtenOn": "2020-10-30T04:23:17Z",
      "side": 1,
      "message": "Will take a look at all comments and resolve them before starting review. Need to test more scenarios and fix unit test cases as well. Currently I have tested only delete and delete force. Need to add more unit test cases and test rigourously. And Need to rebase as well.",
      "parentUuid": "5e9abe79_13a163d0",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c275618_65f37e79",
        "filename": "rw_core/core/api/grpc_nbi_handler_test.go",
        "patchSetId": 5
      },
      "lineNbr": 1271,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "This test the pre-prov scenario for force delete.  Will need to have tests that exercise (some may already be part of other tests,  just take a look to confirm):\n1) delete in pre-prov\n2) delete in non pre-prov\n3) delete with failure from the adapter (this can be mocked, see example on configuring a mock adapter for scenario of flow failure).\n4) all the above with force delete.\n5) run force delete right after a device is enabled (i.e. olt device is still waiting for a full enable response from the adapter).",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "491d6593_342d16d1",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "logs message should be in the form of \"a-b-c\"",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eea9efbc_875e8e7f",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 5
      },
      "lineNbr": 256,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "Too many log message?  Can the previous log be augmented with transient state (curr, prev)?",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "696a09ec_fbe57aed",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 5
      },
      "lineNbr": 336,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "Would it be easier to read with \"isDeletionInProgress()\"?  May eventually (not needed now) replace it with a generic \"isRequestAllowed()\" where all the decision to proceed with a request is made, whether it\u0027s deleting or something else.",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98d5bcd6_620918c7",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 5
      },
      "lineNbr": 514,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "nit: This can be moved after the transient state check.",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5727a37_bc51c7a7",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 5
      },
      "lineNbr": 520,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "Why not reuse the isDeletionInProgress because the previous state is the current state at this point?",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0dffee05_c7a30dcd",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 5
      },
      "lineNbr": 557,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "Same comment as above",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b04c4d0_e4cb2ea5",
        "filename": "rw_core/core/device/agent.go",
        "patchSetId": 5
      },
      "lineNbr": 804,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "If this can return an error then make it explicit",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "447fdc37_292096db",
        "filename": "rw_core/core/device/agent_device_transient_state.go",
        "patchSetId": 5
      },
      "lineNbr": 2,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "2020?  Time flies ...",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2c9c700_10885093",
        "filename": "rw_core/core/device/agent_device_transient_state.go",
        "patchSetId": 5
      },
      "lineNbr": 21,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "v4?",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a58f0d9b_23c3d394",
        "filename": "rw_core/core/device/agent_device_transient_state.go",
        "patchSetId": 5
      },
      "lineNbr": 26,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "File name does not need to have device in it.   Also the function name can be \"getTransientState()\" since agent already implies a device.",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bd1d410_b3420bbc",
        "filename": "rw_core/core/device/agent_device_transient_state.go",
        "patchSetId": 5
      },
      "lineNbr": 33,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "Same comment to remove Device name",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d223808_a2b58206",
        "filename": "rw_core/core/device/agent_device_transient_state.go",
        "patchSetId": 5
      },
      "lineNbr": 44,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "I would rename to \"isDeletionInProgress()\"",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcb36336_2ad30b67",
        "filename": "rw_core/core/device/agent_device_transient_state.go",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "Not sure you need this.  If you do then rename it to \"isStateDeleting()\"",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97536bf6_0a0b84a5",
        "filename": "rw_core/core/device/agent_port.go",
        "patchSetId": 5
      },
      "lineNbr": 126,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "Verify this check as deleteALLPorts may be a result of the deletion from an adapter.",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41c6f977_f5ec5537",
        "filename": "rw_core/core/device/state/transitions.go",
        "patchSetId": 5
      },
      "lineNbr": 161,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "Can\u0027t find the equivalent child transition",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aae129c7_93d50d01",
        "filename": "rw_core/core/device/state/transitions.go",
        "patchSetId": 5
      },
      "lineNbr": 309,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "The getHandler() was built to use UNKNOWN as a wild card.   When choosing the correct transition, we need to give priority in this order: transient state, admin state, operational state then connection state.   In all cases (other than delete), the transient state will be NONE, hence the existing sets of transitions will proceed as is.  When the transient state changes (for delete scenario) then that should take precedence on anything else, if applicable.",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e1a46cc_9666a933",
        "filename": "rw_core/core/device/transientstate/common.go",
        "patchSetId": 5
      },
      "lineNbr": 21,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "v4?",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31c9156f_0e349e1a",
        "filename": "rw_core/core/device/transientstate/loader.go",
        "patchSetId": 5
      },
      "lineNbr": 25,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "v4?",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6466c0c9_36adce12",
        "filename": "rw_core/core/device/transientstate/loader.go",
        "patchSetId": 5
      },
      "lineNbr": 26,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-10-29T13:20:23Z",
      "side": 1,
      "message": "v4?",
      "revId": "60b600785699862b6db725f8137c5d9fb46d6dac",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    }
  ]
}