{
  "comments": [
    {
      "key": {
        "uuid": "5e0c2eaa_271bbf68",
        "filename": "rw_core/core/device_state_transitions.go",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-03-13T13:14:20Z",
      "side": 1,
      "message": "There is a transition when the operation state goes from unknown to active AND the connection state is reachable to create the logical device.  Why duplicating it here?",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae875aea_d4429148",
        "filename": "rw_core/core/device_state_transitions.go",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-03-14T00:38:19Z",
      "side": 1,
      "message": "Can you please point me to that transition. I do not seem to find it.",
      "parentUuid": "5e0c2eaa_271bbf68",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "161beeb7_8f4720e7",
        "filename": "rw_core/core/device_state_transitions.go",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-03-17T01:16:11Z",
      "side": 1,
      "message": "Actually the transition does not care about the connect state.   It only cares about the operational state. Below is the transition. Should operational state be taken into account as well?  In other words, should create logical device only be executed if the connectionstate is reachable and the operational state active? \n\t\t\nTransition{\n\t\t\tdeviceType:    parent,\n\t\t\tpreviousState: DeviceState{Admin: voltha.AdminState_ENABLED, Connection: voltha.ConnectStatus_UNKNOWN, Operational: voltha.OperStatus_ACTIVATING},\n\t\t\tcurrentState:  DeviceState{Admin: voltha.AdminState_ENABLED, Connection: voltha.ConnectStatus_UNKNOWN, Operational: voltha.OperStatus_ACTIVE},\n\t\t\thandlers:      []TransitionHandler{dMgr.CreateLogicalDevice}})",
      "parentUuid": "5e0c2eaa_271bbf68",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "616e04ad_b59ad53d",
        "filename": "rw_core/core/device_state_transitions.go",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-03-17T02:16:06Z",
      "side": 1,
      "message": "Hi Khen, thanks for the comments.\nThe transition you are referring to is applicable only when the olt is enabled for the first time. This new transition has been designed to focus only on the OLT reachability status, and when it becomes reachable, we create the logical device.\nThis has been tested on HW and unit tests.\nWithout this transition, the logical device does not get created when OLT becomes reachable again.",
      "parentUuid": "161beeb7_8f4720e7",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73dd54ec_8722124e",
        "filename": "rw_core/core/device_state_transitions.go",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-03-18T14:27:39Z",
      "side": 1,
      "message": "Again I think my question was not clear.  With the transition I mention and this transition we will be creating the logical device when either the connection state is reachable or when the operational state becomes active.   Should this be an AND instead?  I.e. create the logical device when both the connection state is reachable and operational state is active?",
      "parentUuid": "616e04ad_b59ad53d",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "320baa06_d215ea9e",
        "filename": "rw_core/core/device_state_transitions.go",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-03-18T19:47:35Z",
      "side": 1,
      "message": "I have changed this transition in next commit.",
      "parentUuid": "73dd54ec_8722124e",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33be0e2e_dffcba3c",
        "filename": "rw_core/core/device_state_transitions.go",
        "patchSetId": 3
      },
      "lineNbr": 117,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-03-13T13:14:20Z",
      "side": 1,
      "message": "See comments above",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "418ea7d0_2c151600",
        "filename": "rw_core/core/device_state_transitions.go",
        "patchSetId": 3
      },
      "lineNbr": 117,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-03-14T00:38:19Z",
      "side": 1,
      "message": "Can you please point me to that transition. I do not seem to find it.",
      "parentUuid": "33be0e2e_dffcba3c",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b9ac12a_4a469d3e",
        "filename": "rw_core/core/logical_device_agent.go",
        "patchSetId": 3
      },
      "lineNbr": 503,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-03-13T13:14:20Z",
      "side": 1,
      "message": "This method removes logical ports associated with a given device, i.e it will leave logical ports that are not associated with the device.   This is a major change in behavior. Is this method used somewhere else?",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed574200_89d2fa90",
        "filename": "rw_core/core/logical_device_agent.go",
        "patchSetId": 3
      },
      "lineNbr": 503,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-03-14T00:38:19Z",
      "side": 1,
      "message": "This is called only when OLT device goes to UNREACHABLE connection state. This will remove all the logical ports of the logical device as per the agreed behavior.",
      "parentUuid": "7b9ac12a_4a469d3e",
      "revId": "f0075789cddff74ec6a1f29cf56faee4fd30f762",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    }
  ]
}